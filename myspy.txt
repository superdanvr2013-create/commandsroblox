-- Очистка консоли перед стартом
print("--- [LOG START] ---")

local function logRemote(method, remote, args)
    local path = "Unknown"
    pcall(function()
        path = remote:GetFullName()
    end)
    
    print("--------------------------------")
    print("ВЫЗОВ: " .. method)
    print("ПУТЬ:  " .. path)
    print("ДАННЫЕ:", args)
    
    -- Попытка записи в файл (если ваш чит поддерживает это)
    if writefile then
        local logStr = string.format("\n[%s] %s | %s", os.date("%X"), method, path)
        if not isfile("remote_logs.txt") then writefile("remote_logs.txt", "LOG START") end
        appendfile("remote_logs.txt", logStr)
    end
end

-- Хук метаметода __namecall (самый эффективный способ)
local oldNamecall
oldNamecall = hookmetamethod(game, "__namecall", function(self, ...)
    local method = getnamecallmethod()
    local args = {...}

    if method == "FireServer" or method == "InvokeServer" then
        logRemote(method, self, args)
    end

    return oldNamecall(self, ...)
end)

-- Хук прямой функции FireServer
local oldFire
oldFire = hookfunction(Instance.new("RemoteEvent").FireServer, function(self, ...)
    logRemote("FireServer (Direct)", self, {...})
    return oldFire(self, ...)
end)

print("--- ШПИОН ЗАПУЩЕН. ОТКРОЙТЕ F9 (CONSOLA) ---")
